<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="A fully featured admin theme which can be used to build CRM, CMS, etc.">
        <meta name="author" content="Coderthemes">

        <!-- App favicon -->
        <link rel="shortcut icon" href="/temp1/assets/images/favicon.ico">
        <!-- App title -->
        <title>Zircos - Responsive Admin Dashboard Template</title>

        <!-- Summernote css -->
        <link href="/temp1/plugins/summernote/summernote.css" rel="stylesheet" />

        <!-- App css -->
        <link href="/temp1/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/temp1/assets/css/core.css" rel="stylesheet" type="text/css" />
        <link href="/temp1/assets/css/components.css" rel="stylesheet" type="text/css" />
        <link href="/temp1/assets/css/icons.css" rel="stylesheet" type="text/css" />
        <link href="/temp1/assets/css/pages.css" rel="stylesheet" type="text/css" />
        <link href="/temp1/assets/css/menu.css" rel="stylesheet" type="text/css" />
        <link href="/temp1/assets/css/responsive.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="/temp1/plugins/switchery/switchery.min.css">

        <link href="/tools/codemirror/lib/codemirror.css" rel="stylesheet" type="text/css">
        <link href="/tools/codemirror/addon/display/fullscreen.css" rel="stylesheet" type="text/css">

        <!--下面的css文件就是不同主题配色的css文件-->
        <link type="text/css" rel="stylesheet" href="/tools/codemirror/theme/monokai.css">
        <link type="text/css" rel="stylesheet" href="/tools/codemirror/theme/3024-day.css">
        <link type="text/css" rel="stylesheet" href="/tools/codemirror/theme/3024-night.css">

        <!-- HTML5 Shiv and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="/temp1/assets/js/modernizr.min.js"></script>

    </head>

      <div class="container">
        <textarea id="code" name="code"></textarea>
      </div> <!-- container -->

                

        <script>
            var resizefunc = [];
        </script>

        <!-- jQuery  -->
        <script src="/temp1/assets/js/jquery.min.js"></script>
        <script src="/temp1/assets/js/bootstrap.min.js"></script>
        <script src="/temp1/assets/js/detect.js"></script>
        <script src="/temp1/assets/js/fastclick.js"></script>
        <script src="/temp1/assets/js/jquery.blockUI.js"></script>
        <script src="/temp1/assets/js/waves.js"></script>
        <script src="/temp1/assets/js/jquery.slimscroll.js"></script>
        <script src="/temp1/assets/js/jquery.scrollTo.min.js"></script>
        <script src="/temp1/plugins/switchery/switchery.min.js"></script>

        <!--Summernote js-->
        <script src="/temp1/plugins/summernote/summernote.min.js"></script>

        <!-- App js -->
        <script src="/temp1/assets/js/jquery.core.js"></script>
        <script src="/temp1/assets/js/jquery.app.js"></script>

      <!-- 引入CodeMirror核心文件 -->
      <script type="text/javascript" src="/tools/codemirror/lib/codemirror.js"></script>

      <!-- CodeMirror支持不同语言，根据需要引入JS文件 -->
      <!-- 因为HTML混合语言依赖Javascript、XML、CSS语言支持，所以都要引入 -->
      <script type="text/javascript" src="/tools/codemirror/mode/javascript/javascript.js"></script>
      <script type="text/javascript" src="/tools/codemirror/mode/xml/xml.js"></script>
      <script type="text/javascript" src="/tools/codemirror/mode/css/css.js"></script>
      <script type="text/javascript" src="/tools/codemirror/mode/clike/clike.js"></script>
      <script type="text/javascript" src="/tools/codemirror/mode/htmlmixed/htmlmixed.js"></script>

      <!-- 下面分别为显示行数、括号匹配和全屏插件 -->
      <script type="text/javascript" src="/tools/codemirror/addon/selection/active-line.js"></script>
      <script type="text/javascript" src="/tools/codemirror/addon/edit/matchbrackets.js"></script>
      <script type="text/javascript" src="/tools/codemirror/addon/display/fullscreen.js"></script>
      <script>
          var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
              lineNumbers: true,     // 显示行数
              firstLineNumber: 1,    // 行号从哪个数开始计数，默认为1
              indentUnit: 4,         // 缩进单位为4
              indentWithTabs: true,  // tab字符的宽度，默认为4
              styleActiveLine: true, // 当前行背景高亮
              matchBrackets: true,   // 括号匹配
              mode: 'htmlmixed',     // HMTL混合模式
              autofocus: true,       // 是否在初始化时自动获取焦点
              lineWrapping: true,    // 自动换行
              theme: 'monokai',      // 使用monokai模版
              lineWrapping: true,    // 是否代码折叠
              showCursorWhenSelecting:true, //在选择时是否显示光标，默认为false
              extraKeys: {"Ctrl-Space": "autocomplete"} //智能提示
          });
          editor.setOption("extraKeys", {
              // Tab键换成4个空格
              Tab: function(cm) {
                  var spaces = Array(cm.getOption("indentUnit") + 1).join(" ");
                  cm.replaceSelection(spaces);
              },
              // F11键切换全屏
              "F12": function(cm) {
                  cm.setOption("fullScreen", !cm.getOption("fullScreen"));
              },
              // Esc键退出全屏
              "Esc": function(cm) {
                  if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
              }
          });
      </script>

        <script>

            jQuery(document).ready(function(){
                editor.setValue(" ");
            });

            // 计算页面的实际高度，iframe自适应会用到
            function calcPageHeight(doc) {
                var cHeight = Math.max(doc.body.clientHeight, doc.documentElement.clientHeight);
                var sHeight = Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight);
                var height  = Math.max(cHeight, sHeight)
                return height
            }
            window.onload = function() {
                //var height = calcPageHeight(window.document);
                window.parent.document.getElementById('main-frame').style.height = window.parent.min_height + 'px';
            }
        </script>

    </body>
</html>